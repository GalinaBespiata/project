{"mappings":"kgBAKA,MAAMA,EAAYC,SAASC,cAAc,gBACnCC,EAAaF,SAASC,cAAc,wBACpCE,EAAWH,SAASC,cAAc,sBAwCxC,SAASG,EAAoBC,GAC3B,MAAMC,EAASD,EACZE,KAAIC,GACI,oCAAoCA,EAAMC,6IAMLD,EAAME,uHAInBF,EAAMG,gDAY3C,SAA8BC,GAC5B,MAAMC,EAAaD,EAAYL,KAAIO,GAASA,EAAMC,OAClD,OAAOF,EAAWG,OAAS,EAAIH,EAAWI,MAAM,EAAG,GAAKJ,C,CAbvBK,CAAqBV,EAAMW,QAAQC,KAC1D,WAEJZ,EAAMa,aAAaC,MAAM,KAAK,iCACDd,EAAMe,aAAaC,QAAQ,iCAG3DJ,KAAK,IACRrB,EAAU0B,mBAAmB,YAAanB,E,CA3D5CJ,EAAWwB,iBAAiB,SAS5B,WAEEC,EAAAC,QAAQC,WACRF,EAAAC,QAAQE,OAAO,KACf/B,EAAUgC,UAAY,GACtB,MAAMC,EAAgBC,KAAKC,MAAMC,aAAaC,QAAQ,aAAe,GACrE,IAAKJ,EAAchB,OACjB,OAAOqB,EAAAC,OAAOC,KAAK,oBAErBnC,EAAoB4B,E,IAjBtB7B,EAASuB,iBAAiB,SAoB1B,WAEEC,EAAAC,QAAQC,WACRF,EAAAC,QAAQE,OAAO,KACf/B,EAAUgC,UAAY,GACtB,MAAMS,EAAcP,KAAKC,MAAMC,aAAaC,QAAQ,WAAa,GACjE,IAAKI,EAAYxB,OACf,OAAOqB,EAAAC,OAAOC,KAAK,oBAErBnC,EAAoBoC,E,IA1BW,kBAA7BC,OAAOC,SAASC,WAClBzC,EAAW0C,QACX1C,EAAW2C,S","sources":["src/js/library.js"],"sourcesContent":["import axios from 'axios';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\n\nconst cardsList = document.querySelector('.cards__list');\nconst watchedBtn = document.querySelector('.filter-watched__btn');\nconst queueBtn = document.querySelector('.filter-queue__btn');\n// const noMovies = document.querySelector('.no-movies');\n\nwatchedBtn.addEventListener('click', renderWatched);\nqueueBtn.addEventListener('click', renderQueue);\n// noMovies.classList.add('is-hidden');\n\nif (window.location.pathname === '/library.html') {\n  watchedBtn.focus();\n  watchedBtn.click();\n}\n\nfunction renderWatched() {\n  // noMovies.classList.add('is-hidden');\n  Loading.standard();\n  Loading.remove(800);\n  cardsList.innerHTML = '';\n  const watchedMovies = JSON.parse(localStorage.getItem('watched')) || [];\n  if (!watchedMovies.length) {\n    return Notify.info('No added movies!');\n  }\n  renderMarkupLibrary(watchedMovies);\n}\n\nfunction renderQueue() {\n  // noMovies.classList.add('is-hidden');\n  Loading.standard();\n  Loading.remove(800);\n  cardsList.innerHTML = '';\n  const queueMovies = JSON.parse(localStorage.getItem('queue')) || [];\n  if (!queueMovies.length) {\n    return Notify.info('No added movies!');\n  }\n  renderMarkupLibrary(queueMovies);\n}\n\n// function renderNoMovies() {\n//   noMovies.classList.remove('is-hidden');\n// }\n\nfunction renderMarkupLibrary(movies) {\n  const markup = movies\n    .map(movie => {\n      return `<li class=\"cards__item\" data-id=\"${movie.id}\">\n\n     \n          <img\n            class=\"cards__photo\"\n            alt=\"movie\"\n            src=\"https://image.tmdb.org/t/p/w500${movie.poster_path}\"\n            width=\"450\"\n            loading=\"lazy\"\n          />\n          <h3 class=\"cards__title\">${movie.title}</h3>\n          <p class=\"cards__info\">${getGenresNameLibrary(movie.genres).join(\n            ', '\n          )} | ${\n        movie.release_date.split('-')[0]\n      } <span class=\"cards__vote\"> ${movie.vote_average.toFixed(1)}</span></p>\n        </li>`;\n    })\n    .join('');\n  cardsList.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction getGenresNameLibrary(movieGenres) {\n  const genresName = movieGenres.map(genre => genre.name);\n  return genresName.length > 2 ? genresName.slice(0, 2) : genresName;\n}\n"],"names":["$1cafa503bc57b7a0$var$cardsList","document","querySelector","$1cafa503bc57b7a0$var$watchedBtn","$1cafa503bc57b7a0$var$queueBtn","$1cafa503bc57b7a0$var$renderMarkupLibrary","movies","markup","map","movie","id","poster_path","title","movieGenres","genresName","genre","name","length","slice","$1cafa503bc57b7a0$var$getGenresNameLibrary","genres","join","release_date","split","vote_average","toFixed","insertAdjacentHTML","addEventListener","$dSs1Y","Loading","standard","remove","innerHTML","watchedMovies","JSON","parse","localStorage","getItem","$iQIUW","Notify","info","queueMovies","window","location","pathname","focus","click"],"version":3,"file":"library.961ec73b.js.map"}